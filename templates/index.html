<!DOCTYPE html>
<html>
<head>
    <title>Key Logger Dashboard</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
  <style>
    body { 
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        background: linear-gradient(135deg, #f5f7fa, #c3cfe2); /* light gradient */
        color:#333; 
    }

    header { 
        background: rgba(255,255,255,0.8); 
        backdrop-filter: blur(10px); 
        color:#333; 
        padding:30px; 
        text-align:center; 
        font-size:32px; 
        font-weight:bold; 
        box-shadow:0 6px 20px rgba(0,0,0,0.1); 
        letter-spacing:1px; 
        border-radius: 0 0 15px 15px;
    }

    .container { 
        width:90%; 
        max-width:1000px; 
        margin:40px auto; 
        background: rgba(255,255,255,0.9); 
        padding:30px; 
        border-radius:20px; 
        box-shadow:0px 10px 30px rgba(0,0,0,0.1); 
        backdrop-filter: blur(8px); 
    }

    button { 
        background: linear-gradient(135deg,#4a90e2,#50e3c2); 
        color:white; 
        padding:14px 28px; 
        border:none; 
        border-radius:12px; 
        cursor:pointer; 
        font-size:18px; 
        font-weight:bold; 
        transition: 0.4s; 
        margin-left:10px; 
    }

    button:hover { 
        background: linear-gradient(135deg,#357ab8,#1abc9c); 
        transform: translateY(-3px); 
        box-shadow:0px 6px 20px rgba(0,0,0,0.2); 
    }

    a.page-link { 
        text-decoration:none; 
        color:#4a90e2; 
        font-weight:bold; 
        margin:0 15px; 
        transition:0.3s; 
        font-size:18px; 
    }

    a.page-link:hover { 
        color:#357ab8; 
        text-decoration:underline; 
    }

    #logContainer { 
        max-height:600px; 
        overflow-y:auto; 
        padding:15px; 
        border-radius:15px; 
        background: rgba(245,247,250,0.8); 
        box-shadow: inset 0 4px 10px rgba(0,0,0,0.05); 
    }

    .log-entry { 
        background: rgba(255,255,255,0.8); 
        padding:12px 20px; 
        margin-bottom:12px; 
        border-left:5px solid #4a90e2; 
        border-radius:12px; 
        box-shadow:0px 4px 12px rgba(0,0,0,0.05); 
        transition:0.3s; 
        font-size:16px; 
    }

    .log-entry:hover { 
        transform: translateX(5px); 
        box-shadow:0px 6px 20px rgba(0,0,0,0.1); 
    }

    @media (max-width:600px){
        button, a.page-link { margin:5px 0; display:block; width:100%; text-align:center; }
    }
</style>

</head>
<body>
    <header>Key Logger Detector</header>

    <div class="container">
        <div style="margin-bottom:20px; display:flex; flex-wrap:wrap; align-items:center;">
            <a href="{{ url_for('test_page1') }}" class="page-link">Test Page 1</a>
            <a href="{{ url_for('test_page2') }}" class="page-link">Test Page 2</a>
            <button id="clearBtn">Clear Logs</button>
        </div>

        <div id="logContainer">
            {% for log in logs %}
                <div class="log-entry">{{ log }}</div>
            {% endfor %}
        </div>
    </div>

    <script>
        var socket = io();

        // Receive new log entries
        socket.on("new_log", function(data){
            var logContainer = document.getElementById("logContainer");
            var div = document.createElement("div");
            div.className = "log-entry";
            div.textContent = data.log;
            logContainer.appendChild(div);
            logContainer.scrollTop = logContainer.scrollHeight; // Auto-scroll
        });

        // Clear logs
        socket.on("logs_cleared", function(){
            document.getElementById("logContainer").innerHTML = "";
        });

        document.getElementById("clearBtn").addEventListener("click", function(){
            fetch("/clear_logs", { method:"POST" });
        });
    </script>
</body>
</html>
